{"id":"eK1u","dependencies":[{"name":"D:\\My Work\\Freelancing\\UtterAI\\WidgetApp\\utter-ipl-widget\\package.json","includedInParent":true,"mtime":1632154141274},{"name":"D:\\My Work\\Freelancing\\UtterAI\\WidgetApp\\utter-ipl-widget\\node_modules\\socket.io-client\\package.json","includedInParent":true,"mtime":1632049711161},{"name":"engine.io-client","loc":{"line":4,"column":20},"parent":"D:\\My Work\\Freelancing\\UtterAI\\WidgetApp\\utter-ipl-widget\\node_modules\\socket.io-client\\build\\manager.js","resolved":"D:\\My Work\\Freelancing\\UtterAI\\WidgetApp\\utter-ipl-widget\\node_modules\\engine.io-client\\lib\\index.js"},{"name":"engine.io-client/lib/util","loc":{"line":5,"column":23},"parent":"D:\\My Work\\Freelancing\\UtterAI\\WidgetApp\\utter-ipl-widget\\node_modules\\socket.io-client\\build\\manager.js","resolved":"D:\\My Work\\Freelancing\\UtterAI\\WidgetApp\\utter-ipl-widget\\node_modules\\engine.io-client\\lib\\util.js"},{"name":"./socket","loc":{"line":6,"column":25},"parent":"D:\\My Work\\Freelancing\\UtterAI\\WidgetApp\\utter-ipl-widget\\node_modules\\socket.io-client\\build\\manager.js","resolved":"D:\\My Work\\Freelancing\\UtterAI\\WidgetApp\\utter-ipl-widget\\node_modules\\socket.io-client\\build\\socket.js"},{"name":"socket.io-parser","loc":{"line":7,"column":23},"parent":"D:\\My Work\\Freelancing\\UtterAI\\WidgetApp\\utter-ipl-widget\\node_modules\\socket.io-client\\build\\manager.js","resolved":"D:\\My Work\\Freelancing\\UtterAI\\WidgetApp\\utter-ipl-widget\\node_modules\\socket.io-parser\\dist\\index.js"},{"name":"./on","loc":{"line":8,"column":21},"parent":"D:\\My Work\\Freelancing\\UtterAI\\WidgetApp\\utter-ipl-widget\\node_modules\\socket.io-client\\build\\manager.js","resolved":"D:\\My Work\\Freelancing\\UtterAI\\WidgetApp\\utter-ipl-widget\\node_modules\\socket.io-client\\build\\on.js"},{"name":"backo2","loc":{"line":9,"column":24},"parent":"D:\\My Work\\Freelancing\\UtterAI\\WidgetApp\\utter-ipl-widget\\node_modules\\socket.io-client\\build\\manager.js","resolved":"D:\\My Work\\Freelancing\\UtterAI\\WidgetApp\\utter-ipl-widget\\node_modules\\backo2\\index.js"},{"name":"./typed-events","loc":{"line":10,"column":31},"parent":"D:\\My Work\\Freelancing\\UtterAI\\WidgetApp\\utter-ipl-widget\\node_modules\\socket.io-client\\build\\manager.js","resolved":"D:\\My Work\\Freelancing\\UtterAI\\WidgetApp\\utter-ipl-widget\\node_modules\\socket.io-client\\build\\typed-events.js"},{"name":"debug","loc":{"line":11,"column":22},"parent":"D:\\My Work\\Freelancing\\UtterAI\\WidgetApp\\utter-ipl-widget\\node_modules\\socket.io-client\\build\\manager.js","resolved":"D:\\My Work\\Freelancing\\UtterAI\\WidgetApp\\utter-ipl-widget\\node_modules\\debug\\src\\browser.js"}],"generated":{"js":"\"use strict\";function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function i(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=u();return function(){var n,o=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return s(this,n)}}function s(t,n){if(n&&(\"object\"===e(n)||\"function\"==typeof n))return n;if(void 0!==n)throw new TypeError(\"Derived constructors may only return object or undefined\");return a(t)}function a(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function u(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Manager=void 0;var f=require(\"engine.io-client\"),l=require(\"engine.io-client/lib/util\"),p=require(\"./socket\"),d=require(\"socket.io-parser\"),y=require(\"./on\"),v=require(\"backo2\"),m=require(\"./typed-events\"),b=require(\"debug\")(\"socket.io-client:manager\"),k=function(n){i(s,m.StrictEventEmitter);var r=c(s);function s(n,o){var i,c;t(this,s),(i=r.call(this)).nsps={},i.subs=[],n&&\"object\"===e(n)&&(o=n,n=void 0),(o=o||{}).path=o.path||\"/socket.io\",i.opts=o,(0,l.installTimerFunctions)(a(i),o),i.reconnection(!1!==o.reconnection),i.reconnectionAttempts(o.reconnectionAttempts||1/0),i.reconnectionDelay(o.reconnectionDelay||1e3),i.reconnectionDelayMax(o.reconnectionDelayMax||5e3),i.randomizationFactor(null!==(c=o.randomizationFactor)&&void 0!==c?c:.5),i.backoff=new v({min:i.reconnectionDelay(),max:i.reconnectionDelayMax(),jitter:i.randomizationFactor()}),i.timeout(null==o.timeout?2e4:o.timeout),i._readyState=\"closed\",i.uri=n;var u=o.parser||d;return i.encoder=new u.Encoder,i.decoder=new u.Decoder,i._autoConnect=!1!==o.autoConnect,i._autoConnect&&i.open(),i}return o(s,[{key:\"reconnection\",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:\"reconnectionAttempts\",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:\"reconnectionDelay\",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:\"randomizationFactor\",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:\"reconnectionDelayMax\",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:\"timeout\",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:\"maybeReconnectOnOpen\",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:\"open\",value:function(e){var t=this;if(b(\"readyState %s\",this._readyState),~this._readyState.indexOf(\"open\"))return this;b(\"opening %s\",this.uri),this.engine=f(this.uri,this.opts);var n=this.engine,o=this;this._readyState=\"opening\",this.skipReconnect=!1;var i=(0,y.on)(n,\"open\",function(){o.onopen(),e&&e()}),r=(0,y.on)(n,\"error\",function(n){b(\"error\"),o.cleanup(),o._readyState=\"closed\",t.emitReserved(\"error\",n),e?e(n):o.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout;b(\"connect attempt will timeout after %d\",c),0===c&&i();var s=this.setTimeoutFn(function(){b(\"connect attempt timed out after %d\",c),i(),n.close(),n.emit(\"error\",new Error(\"timeout\"))},c);this.opts.autoUnref&&s.unref(),this.subs.push(function(){clearTimeout(s)})}return this.subs.push(i),this.subs.push(r),this}},{key:\"connect\",value:function(e){return this.open(e)}},{key:\"onopen\",value:function(){b(\"open\"),this.cleanup(),this._readyState=\"open\",this.emitReserved(\"open\");var e=this.engine;this.subs.push((0,y.on)(e,\"ping\",this.onping.bind(this)),(0,y.on)(e,\"data\",this.ondata.bind(this)),(0,y.on)(e,\"error\",this.onerror.bind(this)),(0,y.on)(e,\"close\",this.onclose.bind(this)),(0,y.on)(this.decoder,\"decoded\",this.ondecoded.bind(this)))}},{key:\"onping\",value:function(){this.emitReserved(\"ping\")}},{key:\"ondata\",value:function(e){this.decoder.add(e)}},{key:\"ondecoded\",value:function(e){this.emitReserved(\"packet\",e)}},{key:\"onerror\",value:function(e){b(\"error\",e),this.emitReserved(\"error\",e)}},{key:\"socket\",value:function(e,t){var n=this.nsps[e];return n||(n=new p.Socket(this,e,t),this.nsps[e]=n),n}},{key:\"_destroy\",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var o=n[t];if(this.nsps[o].active)return void b(\"socket %s is still active, skipping close\",o)}this._close()}},{key:\"_packet\",value:function(e){b(\"writing packet %j\",e);for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:\"cleanup\",value:function(){b(\"cleanup\"),this.subs.forEach(function(e){return e()}),this.subs.length=0,this.decoder.destroy()}},{key:\"_close\",value:function(){b(\"disconnect\"),this.skipReconnect=!0,this._reconnecting=!1,\"opening\"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState=\"closed\",this.engine&&this.engine.close()}},{key:\"disconnect\",value:function(){return this._close()}},{key:\"onclose\",value:function(e){b(\"onclose\"),this.cleanup(),this.backoff.reset(),this._readyState=\"closed\",this.emitReserved(\"close\",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:\"reconnect\",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)b(\"reconnect failed\"),this.backoff.reset(),this.emitReserved(\"reconnect_failed\"),this._reconnecting=!1;else{var n=this.backoff.duration();b(\"will wait %dms before reconnect attempt\",n),this._reconnecting=!0;var o=this.setTimeoutFn(function(){t.skipReconnect||(b(\"attempting reconnect\"),e.emitReserved(\"reconnect_attempt\",t.backoff.attempts),t.skipReconnect||t.open(function(n){n?(b(\"reconnect attempt error\"),t._reconnecting=!1,t.reconnect(),e.emitReserved(\"reconnect_error\",n)):(b(\"reconnect success\"),t.onreconnect())}))},n);this.opts.autoUnref&&o.unref(),this.subs.push(function(){clearTimeout(o)})}}},{key:\"onreconnect\",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved(\"reconnect\",e)}}]),s}();exports.Manager=k;"},"sourceMaps":null,"error":null,"hash":"4d6f911d9925bed9d3c66dead16c3de6","cacheData":{"env":{}}}