{"id":"GVVZ","dependencies":[{"name":"E:\\Projects\\Utter-IPL-Widget\\package.json","includedInParent":true,"mtime":1632251641688},{"name":"E:\\Projects\\Utter-IPL-Widget\\node_modules\\socket.io-parser\\package.json","includedInParent":true,"mtime":1632057355707},{"name":"component-emitter","loc":{"line":4,"column":24},"parent":"E:\\Projects\\Utter-IPL-Widget\\node_modules\\socket.io-parser\\dist\\index.js","resolved":"E:\\Projects\\Utter-IPL-Widget\\node_modules\\component-emitter\\index.js"},{"name":"./binary","loc":{"line":5,"column":25},"parent":"E:\\Projects\\Utter-IPL-Widget\\node_modules\\socket.io-parser\\dist\\index.js","resolved":"E:\\Projects\\Utter-IPL-Widget\\node_modules\\socket.io-parser\\dist\\binary.js"},{"name":"./is-binary","loc":{"line":6,"column":28},"parent":"E:\\Projects\\Utter-IPL-Widget\\node_modules\\socket.io-parser\\dist\\index.js","resolved":"E:\\Projects\\Utter-IPL-Widget\\node_modules\\socket.io-parser\\dist\\is-binary.js"},{"name":"debug","loc":{"line":7,"column":22},"parent":"E:\\Projects\\Utter-IPL-Widget\\node_modules\\socket.io-parser\\dist\\index.js","resolved":"E:\\Projects\\Utter-IPL-Widget\\node_modules\\debug\\src\\browser.js"}],"generated":{"js":"\"use strict\";function t(e){return(t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(e)}function e(t,n,o){return(e=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=r(t,e);if(o){var c=Object.getOwnPropertyDescriptor(o,e);return c.get?c.get.call(n):c.value}})(t,n,o||t)}function r(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}function n(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=a();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return i(this,r)}}function i(e,r){if(r&&(\"object\"===t(r)||\"function\"==typeof r))return r;if(void 0!==r)throw new TypeError(\"Derived constructors may only return object or undefined\");return u(e)}function u(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function a(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),t}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Decoder=exports.Encoder=exports.PacketType=exports.protocol=void 0;var y,h=require(\"component-emitter\"),d=require(\"./binary\"),b=require(\"./is-binary\"),N=require(\"debug\")(\"socket.io-parser\");exports.protocol=5,function(t){t[t.CONNECT=0]=\"CONNECT\",t[t.DISCONNECT=1]=\"DISCONNECT\",t[t.EVENT=2]=\"EVENT\",t[t.ACK=3]=\"ACK\",t[t.CONNECT_ERROR=4]=\"CONNECT_ERROR\",t[t.BINARY_EVENT=5]=\"BINARY_EVENT\",t[t.BINARY_ACK=6]=\"BINARY_ACK\"}(y=exports.PacketType||(exports.PacketType={}));var E=function(){function t(){f(this,t)}return p(t,[{key:\"encode\",value:function(t){return N(\"encoding packet %j\",t),t.type!==y.EVENT&&t.type!==y.ACK||!b.hasBinary(t)?[this.encodeAsString(t)]:(t.type=t.type===y.EVENT?y.BINARY_EVENT:y.BINARY_ACK,this.encodeAsBinary(t))}},{key:\"encodeAsString\",value:function(t){var e=\"\"+t.type;return t.type!==y.BINARY_EVENT&&t.type!==y.BINARY_ACK||(e+=t.attachments+\"-\"),t.nsp&&\"/\"!==t.nsp&&(e+=t.nsp+\",\"),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data)),N(\"encoded %j as %s\",t,e),e}},{key:\"encodeAsBinary\",value:function(t){var e=d.deconstructPacket(t),r=this.encodeAsString(e.packet),n=e.buffers;return n.unshift(r),n}}]),t}();exports.Encoder=E;var v=function(r){n(i,h);var o=c(i);function i(){return f(this,i),o.call(this)}return p(i,[{key:\"add\",value:function(t){var r;if(\"string\"==typeof t)(r=this.decodeString(t)).type===y.BINARY_EVENT||r.type===y.BINARY_ACK?(this.reconstructor=new R(r),0===r.attachments&&e(s(i.prototype),\"emit\",this).call(this,\"decoded\",r)):e(s(i.prototype),\"emit\",this).call(this,\"decoded\",r);else{if(!b.isBinary(t)&&!t.base64)throw new Error(\"Unknown type: \"+t);if(!this.reconstructor)throw new Error(\"got binary data when not reconstructing a packet\");(r=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,e(s(i.prototype),\"emit\",this).call(this,\"decoded\",r))}}},{key:\"decodeString\",value:function(t){var e=0,r={type:Number(t.charAt(0))};if(void 0===y[r.type])throw new Error(\"unknown packet type \"+r.type);if(r.type===y.BINARY_EVENT||r.type===y.BINARY_ACK){for(var n=e+1;\"-\"!==t.charAt(++e)&&e!=t.length;);var o=t.substring(n,e);if(o!=Number(o)||\"-\"!==t.charAt(e))throw new Error(\"Illegal attachments\");r.attachments=Number(o)}if(\"/\"===t.charAt(e+1)){for(var c=e+1;++e;){if(\",\"===t.charAt(e))break;if(e===t.length)break}r.nsp=t.substring(c,e)}else r.nsp=\"/\";var u=t.charAt(e+1);if(\"\"!==u&&Number(u)==u){for(var a=e+1;++e;){var s=t.charAt(e);if(null==s||Number(s)!=s){--e;break}if(e===t.length)break}r.id=Number(t.substring(a,e+1))}if(t.charAt(++e)){var f=A(t.substr(e));if(!i.isPayloadValid(r.type,f))throw new Error(\"invalid payload\");r.data=f}return N(\"decoded %s as %j\",t,r),r}},{key:\"destroy\",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:\"isPayloadValid\",value:function(e,r){switch(e){case y.CONNECT:return\"object\"===t(r);case y.DISCONNECT:return void 0===r;case y.CONNECT_ERROR:return\"string\"==typeof r||\"object\"===t(r);case y.EVENT:case y.BINARY_EVENT:return Array.isArray(r)&&r.length>0;case y.ACK:case y.BINARY_ACK:return Array.isArray(r)}}}]),i}();function A(t){try{return JSON.parse(t)}catch(e){return!1}}exports.Decoder=v;var R=function(){function t(e){f(this,t),this.packet=e,this.buffers=[],this.reconPack=e}return p(t,[{key:\"takeBinaryData\",value:function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}},{key:\"finishedReconstruction\",value:function(){this.reconPack=null,this.buffers=[]}}]),t}();"},"sourceMaps":null,"error":null,"hash":"c7fc5c70f0936f087408596e73af1f84","cacheData":{"env":{}}}